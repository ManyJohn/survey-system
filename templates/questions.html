<!DOCTYPE html>

<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Questions</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<style>
h1
{
	text-align: center;
}
table
{
	width: 100%;
}
table.questions
{
	margin: 1em;
}
table.questions td
{
	vertical-align: top;
}
a.btn
{
	max-width: 50%;
	margin: 1em auto;
}
form.add-questions
{
	margin: 0.5em;
	padding-bottom: 1em;
	background-color: grey;
	display: flex;
}
.flex-question
{
	padding-left: 1em;
	flex: 2;
}
.flex-choices
{
	padding-left: 1em;
	flex: 1;
}
.add-btn-container
{
	padding-left: 1em;
	padding-right: 1em;
}
input
{
	width: 100%;
	margin-top: 1em;
}
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
</script>
<script>
$(document).ready(function()
{
	$(document).on("input", "input[name^=choice]", function()
	{
		var no_choices = parseInt($("input[name=no_choices]").val());
		if ($.trim($("input[name=choice" + no_choices + "]").val()) != "")
		{
			$(".flex-choices").append('<input type="text" placeholder="Choice" ' +
					'name="choice' + (no_choices + 1) + '" size="18"/>');
			$("input[name=no_choices]").val(no_choices + 1);
		}
	});
});
</script>
</head>
<body>
<h1>Questions</h1>
<table class="questions">
	{% for question in questions %}
	<tr>
		<td>{{  question.question }}</td>
		<td>
			{% for choice in question.choices %}
			{{ choice }}<br />
			{% endfor %}
		</td>
	</tr>
	{% endfor %}
</table>
<form class="add-questions" method="POST">
		<div class="flex-question">
			<input type="text" placeholder="Question" name="question" />
		</div>
		<div class="flex-choices">
			<input type="hidden" name="no_choices" value="0"/>
			<input type="text" placeholder="Choice" name="choice0" size="18"/>
		</div>
		<div class="add-btn-container">
			<input type="submit" value="Add Question" />
		</div>
</form>
</body>
</html>
